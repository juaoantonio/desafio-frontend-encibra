// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Address {
  id          Int            @id @default(autoincrement())
  rua         String
  numero      String
  cidade      String
  estado      String
  cep         String
  colaborator Collaborator[]
}

model Collaborator {
  id                 Int      @id @default(autoincrement())
  nome               String
  idade              Int
  genero             String
  email              String   @unique
  telefone           String
  area_atuacao       String[]
  regime_contratacao String
  gestor             Boolean
  salario            Float
  senha              String
  enderecoId         Int
  endereco           Address  @relation(fields: [enderecoId], references: [id])

  projects Project[]

  manager_projects  Project[] @relation("Manager Collaborator")
  backend_projects  Project[] @relation("Backend Collaborator")
  frontend_projects Project[] @relation("Frontend Collaborator")
}

model Project {
  id                       Int          @id @default(autoincrement())
  nome                     String
  prazo                    String
  descricao                String
  tecnologias              String[]
  project_manager_id       Int
  backend_collaborator_id  Int
  frontend_collaborator_id Int
  project_manager          Collaborator @relation("Manager Collaborator", fields: [project_manager_id], references: [id])
  backend_collaborator     Collaborator @relation("Backend Collaborator", fields: [backend_collaborator_id], references: [id])
  frontend_collaborator    Collaborator @relation("Frontend Collaborator", fields: [frontend_collaborator_id], references: [id])

  collaborators Collaborator[]
}
